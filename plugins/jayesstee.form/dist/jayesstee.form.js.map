{"version":3,"sources":["../src/jayesstee.form.js"],"names":["jst","defaults","color","textLight","textDark","backgroundLight","backgroundDark","highlight","font","size","family","label","position","JstForm","constructor","setDefaults","opts","Object","assign","$input","type","typeToClass","Input","$form","JstFormElement","jstform","Component","form","attrs","ref","events","input","oldEvent","e","inputChanged","keydown","inputKeyDown","css","instanceCss","cssInstance","cssLocal","input$c","marginLeft$px","inputBox$c","padding$px","border","borderRadius$px","margin$px","display","fontFamily","fontSize","fontWeight","minWidth$em","inputInner$c","completionList$c","backgroundColor","zIndex","opacity","completionItem$c","border$px","rgba","completionItem$c$hover","cursor","selected$c","bannerSelect$c","bannerSelectItem$c","fontSize$px","localCss","render","renderInput","cn","completionValues","undefined","$div","map","item","selected","click","completionSelect","text","inners","if","legend","$fieldset","getValue","inputEl","el","value","key","completionIndex","length","markCompletionValue","submit","refresh","setValue","val","setCompletionValues","list","completionChoices","word","doCompletion","curr","re","RegExp","filter","match","splice","focus","InputRadioOrCheckbox","itemLabel$c","$legend","items","renderItem","name","id","$label","for","noBreak","$br","InputButton","button$c","$button","InputTextArea","textArea$c","$textarea","InputSelect","selectType","bannerChange","change","bannerClick","bannerSelectItem$c$hover","renderBannerSelectOption","$select","renderSelectOption","$option","properties","checked","bannerItemSelect","selectedItem","inputs","inputsByName","createInputs","createInput","Error","optsWithRef","push","getValues","vals","keys","select","checkbox","radio","textarea","button","date","datetime","email","file","hidden","image","month","number","password","range","reset","search","tel","time","url","week"],"mappings":"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","sourcesContent":["import {jst}   from \"jayesstee\";\n\n// Default values that can be overrided\nconst defaults = {\n  color: {\n    textLight: \"#fff\",\n    textDark:  \"#000\",\n    backgroundLight: \"#eee\",\n    backgroundDark:  \"#555\",\n    highlight: \"#eee\"\n  },\n  font: {\n    size: \"13pt\",\n    family: \"Arial\"\n  },\n  label: {\n    position: \"top\"\n  }\n\n};\n\n\n\nclass JstForm {\n  constructor() {\n    this.defaults = defaults;\n  }\n\n  setDefaults(opts) {\n    this.defaults = Object.assign(defaults, opts);\n  }\n\n  $input(opts) {\n    if (opts.type && typeToClass[opts.type]) {\n      return new typeToClass[opts.type](this, opts);\n    }\n    else {\n      return new Input(this, opts);\n    }\n  }\n\n  $form(opts) {\n    return new JstFormElement(opts);\n  }\n   \n}\n\nexport let jstform = new JstForm();\n\n\n\nclass Input extends jst.Component {\n  constructor(form, opts) {\n    super();\n    this.defaults = form.defaults;\n    this.opts = Object.assign({attrs: {}}, opts);\n    if (opts.ref) {\n      this.opts.attrs.ref = opts.ref;\n    }\n    else {\n      this.opts.attrs.ref = \"inputEl\";\n    }\n    if (opts.events) {\n      let events = Object.assign({}, opts.events);\n      if (!opts.type || opts.type === \"text\") {\n        if (events.input) {\n          let oldEvent = events.input;\n          events.input = e => {oldEvent(e); this.inputChanged(e);};\n        }\n        else {\n          events.input = e => this.inputChanged(e);\n        }\n        if (events.keydown) {\n          let oldEvent = events.keydown;\n          events.keydown = e => {oldEvent(e); this.inputKeyDown(e);};\n        }\n        else {\n          events.keydown = e => this.inputKeyDown(e);\n        }\n      }\n      this.opts.attrs.events = events;\n    }\n    else if (!opts.type || opts.type === \"text\") {\n      this.opts.attrs.events = {\n        input:   e => this.inputChanged(e),\n        keydown: e => this.inputKeyDown(e)\n      };\n    }\n\n    if (opts.css) {\n      this.instanceCss = Object.assign({}, opts.css);\n      this.cssInstance = () => this.instanceCss;\n    }\n    \n  }\n\n  // CSS that is local to this class\n  cssLocal() {\n    return [\n      {\n        input$c: {\n          marginLeft$px: 12\n        },\n        inputBox$c: {\n          padding$px: 2\n        },\n\n        '.input fieldset': {\n          border:          \"none\",\n          borderRadius$px: 3,\n          margin$px:       0,\n          padding$px:      [2,2,2,8]\n        },\n\n        '.inputLabel': {\n          display:    this.defaults.label.position == \"top\" ? \"block\" : \"inline-block\",\n          fontFamily: this.defaults.font.family,\n          fontSize:   this.defaults.font.size,\n          color:      this.defaults.color.textDark,\n          fontWeight: \"bold\",\n          minWidth$em:    7.5\n        },\n        \n        inputInner$c: {\n          display:    this.defaults.label.position == \"top\" ? \"block\" : \"inline-block\"\n        },\n        \n        completionList$c: {\n          display: \"table\",\n          position: \"absolute\",\n          padding$px: 0,\n          fontSize: '70%',\n          backgroundColor: \"#ddd\",\n          zIndex: 10,\n          opacity: 0.96\n        },\n\n        completionItem$c: {\n          padding$px: [2, 5],\n          border$px: [\"solid\", 1, jst.rgba(0,0,0,0.1)]\n        },\n\n        completionItem$c$hover: {\n          backgroundColor: \"#fff\",\n          cursor: \"pointer\"\n        },\n\n        selected$c: {\n          backgroundColor: \"#fff\",\n        },\n\n        bannerSelect$c: {\n          display: \"inline-block\"\n        },\n        \n        bannerSelectItem$c: {\n          display:     \"inline-block\",\n          fontSize$px: 13,\n          cursor: \"pointer\",\n          padding$px: [2, 10],\n          backgroundColor: \"#ccc\",\n          color: \"white\"\n        },\n        \n        '.bannerSelectItem:first-child': {\n          borderRadius$px: [8,0,0,8]\n        },\n        \n        '.bannerSelectItem:last-child': {\n          borderRadius$px: [0,8,8,0]\n        },\n        \n      },\n      this.localCss\n    ];\n  }\n\n  render() {\n    return [\n      this.renderInput(\n        jst.$input(\n          {cn: \"--inputBox\"},\n          Object.assign(\n            {\n              type: this.opts.type ? this.opts.type : \"text\",\n              ref: \"inputEl\",\n            },\n            this.opts.attrs\n          )\n        ),\n        !this.completionValues ?\n          undefined :\n          jst.$div(\n            {cn: \"-completionList\"},\n            this.completionValues.map(item => \n                                           jst.$div({cn: \"-completionItem \" + (item.selected ? \"-selected\" : \"\"),\n                                                 events: {click: e => this.completionSelect(item, e)}},\n                                                item.text\n                                               )\n                                      )\n          )\n      )\n    ];\n  }\n\n  renderInput(...inners) {\n    return [\n      jst.$div(\n        {cn: \"-input --input\"},\n        jst.if(this.opts.legend || this.opts.label,\n               () => jst.$fieldset(\n                 this.opts.legend ? jst.$div({cn: '-inputLabel --inputLabel'}, this.opts.legend) : undefined,\n                 this.opts.label  ? jst.$div({cn: '-inputLabel --inputLabel'}, this.opts.label) : undefined,\n                 jst.$div(\n                   {cn: \"-inputInner --inputInner\"},\n                   inners\n                 )\n               ),\n               () => jst.$div(\n                 {cn: \"-inputInner --inputInner\"},\n                 inners\n               )\n              )\n\n      )\n    ];\n  }\n\n  getValue() {\n    if (this.inputEl && this.inputEl.el) {\n      return this.inputEl.el.value;\n    }\n    if (this.opts.attrs) {\n      return this.opts.attrs.value;\n    }\n    return undefined;\n  }\n\n  inputKeyDown(e) {\n    if (e.key === \"ArrowDown\") {\n      if (this.completionValues) {\n        this.completionIndex = typeof(this.completionIndex) === \"undefined\" ? 0 :\n          this.completionIndex = (this.completionIndex + 1) %\n          this.completionValues.length;\n        this.markCompletionValue();\n      }\n    }\n    else if (e.key === \"ArrowUp\") {\n      if (this.completionValues) {\n        this.completionIndex = this.completionIndex ?\n          this.completionIndex - 1 : this.completionValues.length - 1;\n        this.markCompletionValue();\n      }\n    }\n    else if (e.key === \"Enter\") {\n      if (this.completionValues && this.completionValues.length && \n          typeof(this.completionIndex) !== \"undefined\") {\n        this.completionSelect(this.completionValues[this.completionIndex], e);\n      }\n      else {\n        if (this.opts.attrs.events.submit) {\n          this.opts.attrs.events.submit();\n        }\n      }\n    }\n\n    this.refresh();\n\n  }\n\n  setValue(val) {\n    if (this.inputEl && this.inputEl.el) {\n      this.inputEl.el.value = val;\n    }\n    this.inputEl.value = val;\n    this.completionValues = undefined;\n    this.refresh();\n  }\n\n  setCompletionValues(list) {\n    this.completionChoices = list.map(word => {return {text: word};});\n    this.doCompletion();\n  }\n\n  doCompletion() {\n    if (this.completionChoices) {\n      let curr = this.getValue() || \"\";\n      if (curr.length == 1) {\n        let re   = new RegExp(\"^\" + curr, \"i\");\n        this.completionValues = this.completionChoices.filter(\n          item => item.text && item.text.match(re));\n      }\n      else if (curr.length > 1) {\n        let re   = new RegExp(curr, \"i\");\n        this.completionValues = this.completionChoices.filter(\n          item => item.text && item.text.match(re));\n      }\n      else {\n        this.completionValues = [];\n      }\n      if (this.completionValues.length > 8) {\n        this.completionValues.splice(8);\n      }\n      this.refresh();\n    }\n  }\n\n  markCompletionValue() {\n    this.completionValues.map(item => item.selected = false);\n    this.completionValues[this.completionIndex].selected = true;\n  }\n\n  completionSelect(item, e) {\n    this.setValue(item.text);\n  }\n\n  inputChanged(e) {\n    this.doCompletion();\n  }\n\n  focus() {\n    if (this.inputEl && this.inputEl.el) {\n      this.inputEl.el.focus();\n    }\n  }\n  \n}\n\n\nclass InputRadioOrCheckbox extends Input {\n  constructor(form, opts) {\n    super(form, opts);\n  }\n\n  cssLocal() {\n    return [\n      super.cssLocal(),\n      {\n        itemLabel$c: {\n          margin$px: [0, 5]\n        },\n\n        input$c: {\n          marginLeft$px: 8\n        },\n      }\n    ];\n  }\n\n  render() {\n    return super.renderInput(\n      jst.$fieldset(\n        this.opts.legend ? jst.$legend(this.opts.legend) : undefined,\n        this.opts.label  ? jst.$legend(this.opts.label) : undefined,\n        this.opts.items.map(item => this.renderItem(this.opts.name, this.opts.events, item))\n      )\n    );\n  }\n\n  renderItem(name, events, item) {\n    return [\n      jst.$input(\n        {cn: \"-item --item\", type: this.opts.type, id: item.id, name: name, events: events}\n      ),\n      jst.$label(\n        {cn: \"-itemLabel --itemLabel\", for: item.id},\n        item.text || item.value\n      ),\n      item.noBreak ? undefined : jst.$br()\n    ];\n  }\n  \n}\n\n\nclass InputButton extends Input {\n  constructor(form, opts) {\n    super(form, opts);\n  }\n\n  cssLocal() {\n    return [\n      super.cssLocal(),\n      {\n        button$c: {\n          margin$px:       [0, 5],\n          padding$px:      4\n        },\n\n      }\n    ];\n  }\n\n  render() {\n    return super.renderInput(\n      jst.$fieldset(\n        this.opts.legend ? jst.$legend(this.opts.legend) : undefined,\n        this.opts.label  ? jst.$legend(this.opts.label) : undefined,\n        jst.$button(\n          Object.assign({cn: \"-button --button\"}, this.opts.attrs),\n          this.opts.value\n        )\n      )\n    );\n  }\n\n}\n\nclass InputTextArea extends Input {\n  constructor(form, opts) {\n    super(form, opts);\n  }\n\n  cssLocal() {\n    return [\n      super.cssLocal(),\n      {\n        textArea$c: {\n          margin$px: [0, 5]\n        },\n\n        input$c: {\n          marginLeft$px: 8\n        },\n      }\n    ];\n  }\n\n  render() {\n    return jst.$textarea(\n      Object.assign({cn: \"-textArea --textArea\"}, this.opts.attrs),\n      this.opts.value\n    );\n  }\n}\n\nclass InputSelect extends Input {\n  constructor(form, opts) {\n    super(form, opts);\n\n    if (this.opts.selectType === \"banner\") {\n      if (this.opts.events) {\n        this.bannerChange = this.opts.events.change;\n        this.bannerClick  = this.opts.events.click;\n        delete(this.opts.events);\n      }\n    }\n  }\n\n  cssLocal() {\n    return [\n      super.cssLocal(),\n      {\n        bannerSelect$c: {\n          display: \"inline-block\"\n        },\n        \n        bannerSelectItem$c: {\n          display:     \"inline-block\",\n          fontSize$px: 13,\n          cursor: \"pointer\",\n          padding$px: [2, 10],\n          backgroundColor: this.defaults.color.backgroundDark,\n          color: this.defaults.color.textLight\n        },\n        \n        bannerSelectItem$c$hover: {\n          backgroundColor: this.defaults.color.highlight,\n          color: this.defaults.color.textDark\n        },\n\n        selected$c: {\n          backgroundColor: this.defaults.color.highlight,\n          color: this.defaults.color.textDark\n        },\n        \n      }\n    ];\n  }\n\n  render() {\n    if (this.opts.selectType === \"banner\") {\n      return this.renderInput(\n        jst.$div(\n          {cn: \"-bannerSelect --bannerSelect\"},\n          this.opts.attrs,\n          this.opts.items ? this.opts.items.map(item => this.renderBannerSelectOption(this.opts.name, item)) : undefined\n        )\n      );\n    }\n    else {\n      return this.renderInput(\n        jst.$select(\n          this.opts.attrs,\n          this.opts.items ? this.opts.items.map(item => this.renderSelectOption(this.opts.name, item)) : undefined\n        )\n      );\n    }\n  }\n  \n  renderSelectOption(name, item) {\n    return [\n      jst.$option(\n        {cn: \"-selectItem\",\n         value: item.value || item.id || item.name,\n         properties: item.checked || item.selected ? [\"selected\"] : undefined\n        },\n        item.text || item.name || item.id || item.value\n      )\n    ];\n  }\n  \n  renderBannerSelectOption(name, item) {\n    return jst.$div(\n      {cn: \"-bannerSelectItem \" + (item.selected ? \"-selected\" : \"\"),\n       value: item.value || item.id || item.name,\n       events: {click: e => this.bannerItemSelect(item)}\n      },\n      item.text || item.name || item.id || item.value\n    );\n  }\n\n  getValue() {\n    if (this.opts.selectType === \"banner\") {\n      let selectedItem;\n      this.opts.items.map(item => {\n        if (item.selected) {\n          selectedItem = item;\n        }\n      });\n      return selectedItem.value || selectedItem.id || selectedItem.name;\n    }\n    else {\n      if (this.inputEl && this.inputEl.el) {\n        return this.inputEl.el.value;\n      }\n    }\n    return undefined;\n  }\n\n  bannerItemSelect(item) {\n    this.opts.items.map(item => item.selected = false);\n    item.selected = true;\n    this.refresh();\n    if (this.bannerClick) {\n      this.bannerClick(item);\n    }\n    if (this.bannerChange) {\n      this.bannerChange(item);\n    }\n  }\n\n  \n}\n\n\nexport class JstFormElement extends jst.Object {\n  constructor(opts) {\n    super();\n    // if (typeof(opts.name) == \"undefined\") {\n    //   throw Error(\"opts.name must be defined\");\n    // }\n    this.name         = opts.name;\n    this.events       = opts.events;\n    this.css          = opts.css || {};\n    this.inputs       = [];\n    this.inputsByName = {};\n\n    this.createInputs(opts.inputs);\n    \n  }\n\n  // If you decide to just render the form, then\n  // it will simply render all the inputs in order\n  render() {\n    return jst.$form(\n      {name: this.name, events: this.events},\n      this.inputs\n    );\n  }\n\n  createInput(opts) {\n    if (typeof(opts.name) == \"undefined\") {\n      throw Error(\"opts.name must be defined on all inputs\");\n    }\n    let optsWithRef = Object.assign({ref: \"inputEl\"}, opts);\n    let input = new Input(this, optsWithRef, this.css);\n    this.inputs.push(input);\n    this.inputsByName[opts.name] = input;\n    return input;\n  }\n\n  createInputs(inputs) {\n    if (inputs && inputs.length) {\n      inputs.map(input => this.createInput(input));\n    }\n  }\n\n  getValues() {\n    let vals = {};\n    for (let name of Object.keys(this.inputsByName)) {\n      vals[name] = this.inputsByName[name].getValue();\n    }\n    return vals;\n  }\n  \n}\n\nconst typeToClass = {\n  select:   InputSelect,\n  checkbox: InputRadioOrCheckbox,\n  radio:    InputRadioOrCheckbox,\n  textarea: InputTextArea,\n  button:   InputButton,\n  color:    Input,\n  date:     Input,\n  datetime: Input,\n  email:    Input,\n  file:     Input,\n  hidden:   Input,\n  image:    Input,\n  month:    Input,\n  number:   Input,\n  password: Input,\n  radio:    Input,\n  range:    Input,\n  reset:    Input,\n  search:   Input,\n  submit:   InputButton,\n  tel:      Input,\n  text:     Input,\n  time:     Input,\n  url:      Input,\n  week:     Input\n};\n"],"file":"jayesstee.form.js"}