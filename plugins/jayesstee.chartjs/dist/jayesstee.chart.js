import jst from"jayesstee";import Chart from"chart.js";export class JstChart extends jst.Object{constructor(optsAndData){super();this.initialOptsAndData=optsAndData}render(){return jst.$div({cn:"-chart"},jst.$canvas({ref:"chartCanvas"}))}postRender(){let chartContext=this.chartCanvas.el.getContext("2d");if(this.chart){this.chart.update()}else{this.chart=new Chart(chartContext,this.initialOptsAndData);delete this.initialOptsAndData}}updateOptions(opts){this.chart.options=Object.assign(this.chart.options,opts);this.refresh()}setOptions(opts){this.chart.options=opts;this.refresh()}updateDataset(label,dataset){let index=this.chart.labels.indexOf(label);if(index>=0){this.chart.datasets[index]=dataset;this.refresh()}}removeDataset(label){let index=this.chart.labels.indexOf(label);if(index>=0){this.chart.datasets.splice(index,1);this.chart.labels.splice(index,1);this.refresh()}}addDataset(label,dataset){this.chart.datasets.push(dataset);this.chart.label.push(label)}}
//# sourceMappingURL=jayesstee.chart.js.map